(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},i=[];function r(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"2d5eeb00"}[t]+".js"}function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(t){var e=[],s=a[t];if(0!==s)if(s)e.push(s[2]);else{var n=new Promise((function(e,n){s=a[t]=[e,n]}));e.push(s[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var s=a[t];if(0!==s){if(s){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,s[1](l)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"08f9":function(t,e,s){},"0fc8":function(t,e,s){},"113d":function(t,e,s){},"1ba7":function(t,e,s){},"2bbf":function(t,e,s){},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=i(t);return s(e)}function i(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id="4678"},4886:function(t,e,s){"use strict";var n=s("2bbf"),a=s.n(n);a.a},4911:function(t,e,s){"use strict";var n=s("564c"),a=s.n(n);a.a},"49fd":function(t,e,s){"use strict";var n=s("9819"),a=s.n(n);a.a},"512b":function(t,e,s){},"564c":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("TopBar"),s("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topBar"},[s("div",{staticClass:"container"},[s("div",{staticClass:"content"},[s("menu-icon",{staticClass:"menuIcon"}),s("router-link",{staticClass:"brand",attrs:{to:"/"}},[t._v("project")]),s("div",{staticClass:"subbrand"},[t._v("Smart Contracts")]),s("div",{staticClass:"menu"},[s("router-link",{attrs:{to:"/"}},[t._v("Templates")]),s("router-link",{attrs:{to:"/instances"}},[t._v("Instances")])],1),s("div",{staticClass:"userIcon"},[s("User")],1)],1)])])},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])},l=[],u=s("3431"),d={},m=Object(u["a"])(d,c,l,!1,null,null,null),h=m.exports,p={name:"TopBar",components:{User:h},methods:{}},f=p,v=(s("49fd"),Object(u["a"])(f,r,o,!1,null,"5af046c7",null)),g=v.exports,y={name:"App",data:function(){return{passphrase:""}},components:{TopBar:g},methods:{getUserKeys:function(){try{project.KeysService.loadKeyPairsByStrategy(this.passphrase)}catch(t){console.error(t)}}},created(){this.getUserKeys(),project.ajax.setSessionToken(localStorage.session_token),project.ajax.on("logout",()=>{window.location="/"}),project.ajax.on("401",()=>{project.ajax.logout()})}},b=y,w=(s("5c0b"),Object(u["a"])(b,a,i,!1,null,null,null)),C=w.exports,_=s("8c4f"),j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"container"},[s("List",{attrs:{data:t.list,columns:[{key:"label",label:"Name"},{key:"version",label:"Version"},{key:"id",label:"Id"}],loading:t.isLoading},on:{onClick:t.goToTemplate}})],1)])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"top"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"mainBar"},[s("h1",[t._v("Contract Templates")])])])])])}],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"list"},[t._m(0),t.loading?s("LoadingIndicator",{staticClass:"center"}):t._e(),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"listItem",on:{click:function(s){return t.goToTemplate(e)}}},[s("span",{staticClass:"name",attrs:{title:e.label}},[t._v(t._s(e.label))]),s("span",{staticClass:"id",attrs:{title:e.id}},[t._v(t._s(e.id))]),s("span",{staticClass:"id",attrs:{title:e.version}},[t._v(t._s(e.version))])])}))],2)])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"listHeader"},[s("span",{staticClass:"id"},[t._v("Label")]),s("span",{staticClass:"name"},[t._v("Id")]),s("span",{staticClass:"name"},[t._v("Version")])])}],I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lds-ellipsis"},[s("div"),s("div"),s("div"),s("div")])}],z={name:"LoadingIndicator",props:["loading"]},E=z,S=(s("cf70"),Object(u["a"])(E,I,T,!1,null,"4c830b34",null)),O=S.exports,L={name:"TableList",props:["data","loading"],components:{LoadingIndicator:O},data:function(){return{}},methods:{goToTemplate:function(t){this.$router.push({name:"TemplateEditor",params:{id:t.label,version:t.version}})}}},F=L,A=(s("6372"),Object(u["a"])(F,k,$,!1,null,"013c7b36",null)),B=A.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"list"},[s("div",{staticClass:"listHeader"},t._l(t.columns,(function(e,n){return s("span",{key:n,staticClass:"id"},[t._v(t._s(e.label))])})),0),t.loading?s("LoadingIndicator",{staticClass:"center"}):t._e(),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"listItem",on:{click:function(s){return t.$emit("onClick",e)}}},t._l(t.columns,(function(n,a){return s("span",{key:a,staticClass:"name",attrs:{title:e[n.key]}},[t._v(t._s(n.read?n.read(e[n.key]):e[n.key]))])})),0)}))],2)])},K=[],P={name:"List",props:["data","loading","columns"],components:{LoadingIndicator:O},data:function(){return{}},methods:{}},U=P,N=(s("c93b"),Object(u["a"])(U,D,K,!1,null,"75f6eb6f",null)),H=N.exports,M=s("2f62"),Y={name:"TemplateExplorer",components:{TableList:B,List:H},computed:Object(M["b"])(["getInfo"]),data:()=>({isLoading:!1,list:[],serverUrl:""}),mounted:function(){this.getList()},methods:{handleError(t){t.response?t.msg=t.response.message||t.response.msg:null===t.response&&(t.msg=t.status+" "+t.statusText),"string"===typeof t&&(t.msg=t),this.$toast.open({message:t&&t.msg||"error",type:"error"})},goToTemplate:function(t){this.$router.push({name:"TemplateEditor",params:{id:t.label,version:t.version}})},getList:async function(){try{this.isLoading=!0;let t=await project.ajax.get(this.serverUrl+"/ng-rt-smartContracts/contract-templates");if(!t)throw new Error(xhr.statusText);console.log(t),this.list=t}catch(t){this.handleError(t)}finally{this.isLoading=!1}}}},q=Y,V=(s("6c24"),Object(u["a"])(q,j,x,!1,null,"7c032a0a",null)),J=V.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"top"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"mainBar"},[s("arrow-left",{staticClass:"iconButton",on:{click:function(e){return t.goBack()}}}),s("div",{staticClass:"headText"},[s("h1",[t._v("Contract Template")]),s("div",{staticClass:"subHeadText"},[s("h2",{attrs:{title:this.$route.params.id}},[t._v(t._s(this.$route.params.id))]),t.version?s("h3",[t._v("V "+t._s(t.version))]):t._e()])]),t.instances.length>0?s("div",[s("button",{staticStyle:{margin:"0 0 0 15px"},on:{click:function(e){return t.goInstances()}}},[t._v(" Instances "+t._s(t.instances.length)+" ")])]):s("div",[t._v("NO INSTANCES")])],1)])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.instanceClicked,expression:"instanceClicked===false"}],staticClass:"container"},[s("TemplateEditor",{ref:"templateEditor",attrs:{loading:t.isLoading,functions:t.functions,description:t.description,published:t.published},on:{onFunctionSet:t.functionSet,onPublish:t.onPublished}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.instanceClicked,expression:"instanceClicked===true"}],staticClass:"container"},[s("List",{attrs:{data:t.instances,columns:[{key:"contractId",label:"Contract Id"},{key:"contractOwner",label:"Owner",read:function(t){return t[0]}},{key:"createdOn",label:"Date",read:function(e){return t.formatDate(e)}}],loading:t.isLoading},on:{onClick:t.listItemClick}})],1)])},W=[],G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m492 332c11.046875 0 20-8.953125 20-20v-152c0-44.113281-35.886719-80-80-80h-40c0-44.113281-35.886719-80-80-80h-232c-44.113281 0-80 35.886719-80 80v272c0 44.113281 35.886719 80 80 80h40c0 24.980469 11.351562 48.070312 31.144531 63.355469 14.109375 10.886719 31 16.644531 48.855469 16.644531h232c44.113281 0 80-35.886719 80-80v-20c0-11.046875-8.953125-20-20-20h-60c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h40c0 22.054688-17.945312 40-40 40h-232c-8.929688 0-17.371094-2.875-24.410156-8.308594-9.90625-7.648437-15.589844-19.199218-15.589844-31.691406h152c44.113281 0 80-35.886719 80-80v-232h40c22.054688 0 40 17.945312 40 40v152c0 11.046875 8.953125 20 20 20zm-180 60h-232c-22.054688 0-40-17.945312-40-40v-272c0-22.054688 17.945312-40 40-40h232c22.054688 0 40 17.945312 40 40v232h-252c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h252c0 22.054688-17.945312 40-40 40zm0 0"}})])},Q=[],X={},Z=Object(u["a"])(X,G,Q,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t.loading?s("LoadingIndicator",{staticClass:"center"}):t._e(),s("div",{staticClass:"templateContainer"},[s("div",{staticClass:"topBorder"}),t.owner||t.template||t.timestamp?s("div",{staticClass:"top"},[t.owner&&t.owner[0]?s("div",{staticClass:"ownerCircle"}):t._e(),t.owner&&t.owner[0]?s("div",{staticClass:"infoBox"},[s("div",{staticClass:"infoBoxLabel"},[t._v(" owner "),t.ownerDetails.type?s("div",{staticClass:"ownerType"},[t._v(" "+t._s(t.ownerDetails.type)+" ")]):t._e()]),s("span",{staticClass:"infoBoxValue",attrs:{title:t.owner&&t.owner[0]}},[t.ownerDetails.fullname?s("span",{staticClass:"ownerName"},[t._v(t._s(t.ownerDetails.fullname))]):t._e(),s("span",[t._v(t._s(t.owner&&t.owner[0]))]),s("div",{staticClass:"copytip",on:{click:function(e){return e.stopPropagation(),t.copyTextToClipboard(t.owner[0])}}},[s("Copy")],1)])]):t._e(),t.template?s("div",{staticClass:"infoBox"},[s("div",{staticClass:"infoBoxLabel"},[t._v("template")]),s("div",{staticClass:"infoBoxValue",attrs:{title:t.template}},[s("span",[t._v(t._s(t.template))])])]):t._e(),s("div",{staticClass:"flex1"}),t.timestamp?s("div",{staticClass:"infoBox"},[s("div",{staticClass:"infoBoxLabel"},[s("Time"),t._v("timestamp")],1),s("div",{staticClass:"infoBoxValue"},[s("span",[t._v(t._s(t.formatDate(t.timestamp)))])])]):t._e()]):t._e(),t.initState?s("div",{staticClass:"initState"},[s("span",[t._v("State")]),t._v(" "+t._s(JSON.stringify(t.initState,null,4))+" ")]):t._e(),t.description&&t.description.length>0?s("div",{staticClass:"descriptionTemplate"},[s("Info"),s("div",[t._v(t._s(t.trim(t.description)))])],1):t._e(),s("div",{staticClass:"tabsContainer"},[s("h3",[t._v("Functions")]),s("div",{staticClass:"tabs"},t._l(t.functions,(function(e,n){return s("span",{key:n,class:{current:t.activeFunction===n},on:{click:function(e){return t.setActiveFunction(n)}}},[e&&e.functionArgs&&e.functionArgs.length>0?s("div",{staticClass:"counter"},[t._v(" "+t._s(e.functionArgs.length)+" ")]):t._e(),e&&e.name.startsWith("transfer")?s("div",{staticClass:"counter"},[t._v(" "+t._s(Object.keys(t.transferArgs).length)+" ")]):t._e(),s("div",{staticClass:"tabHead",attrs:{title:e.name}},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"tabBottom"},[t._v(" "+t._s(e&&e.functionArgs&&e.functionArgs.length>0||e.name.startsWith("transfer")?"arguments":"no arguments")+" ")])])})),0),s("div",{staticClass:"tabContent"},[t.instance||0===t.activeFunction?t.instance&&0===t.activeFunction?s("div",{staticClass:"warning"},[s("Info"),t._v("The 'init' function can't be used on a contract instance. ")],1):t._e():s("div",{staticClass:"warning"},[s("Info"),t._v("Only the 'init' function can be used in order to create a contract instance. ")],1),t.activeFunctionDetails&&t.activeFunctionDetails.description?s("div",{staticClass:"description"},[t._v(" "+t._s(t.activeFunctionDetails.description)+" ")]):t._e(),t.activeArguments?s("div",{staticClass:"argumentsBlock"},[s("h3",[t._v("Arguments")]),s("div",{staticClass:"inputs"},t._l(t.functions[t.activeFunction].functionArgs,(function(e,n){return s("fieldset",{key:n},[s("legend",[t._v(t._s(e))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.args[n],expression:"args[index]"}],attrs:{disabled:t.canEdit},domProps:{value:t.args[n]},on:{input:function(e){e.target.composing||t.$set(t.args,n,e.target.value)}}})])})),0),t.instance||0!==t.activeFunction?t._e():s("button",{staticStyle:{margin:"0 0px 0px 20px"},on:{click:function(e){return t.publish()}}},[s("Publish"),t._v("Publish ")],1),t.instance&&0!==t.activeFunction?s("button",{staticStyle:{margin:"0 0 0 15px"},on:{click:function(e){return t.callFunction()}}},[s("Call"),t._v("Call ")],1):t._e()]):t.activeArguments||t.isTransfer?t._e():s("div",{staticClass:"noArguments"},[t._v(" Function without arguments "),t.instance&&0!==t.activeFunction?s("button",{staticStyle:{margin:"15px 0 0 0"},on:{click:function(e){return t.callFunction()}}},[s("Call"),t._v("Call ")],1):t._e()]),t.isTransfer?s("div",{staticClass:"argumentsBlock"},[s("h3",[t._v("Arguments")]),s("div",{staticClass:"inputs"},[s("fieldset",[s("legend",[t._v("AssetId")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.transferArgs.assetId,expression:"transferArgs.assetId",modifiers:{lazy:!0}}],attrs:{disabled:t.canEdit},domProps:{value:t.transferArgs.assetId},on:{change:function(e){return t.$set(t.transferArgs,"assetId",e.target.value)}}})]),s("fieldset",[s("legend",[t._v("Next Owner")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.transferArgs.nextOwner,expression:"transferArgs.nextOwner"}],attrs:{disabled:t.canEdit},domProps:{value:t.transferArgs.nextOwner},on:{input:function(e){e.target.composing||t.$set(t.transferArgs,"nextOwner",e.target.value)}}})]),s("fieldset",[s("legend",[t._v("Amount")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.transferArgs.amount,expression:"transferArgs.amount",modifiers:{number:!0}}],attrs:{value:"1",disabled:t.canEdit},domProps:{value:t.transferArgs.amount},on:{input:function(e){e.target.composing||t.$set(t.transferArgs,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t.instance&&0!==t.activeFunction?s("button",{staticStyle:{margin:"0 0 0 15px"},on:{click:function(e){return t.transferFunction()}}},[s("Transfer"),t._v("Transfer ")],1):t._e()]):t._e()]),0!==t.activeFunction&&t.result?s("div",{staticClass:"footerStatus"},[s("h1",[t._v("result")]),s("span",{staticClass:"resultView"},[t._v(" "+t._s(JSON.stringify(t.result&&t.result.result?t.result.result:t.result,null,4))+" ")])]):t._e(),t.published?s("div",{staticClass:"templateFooter"},[t._v(" Contract published "),s("span",{staticClass:"instanceLink",on:{click:function(e){return t.goToInstance(t.published)}}},[t._v("Open Instance")])]):t._e()])])],1)},st=[],nt=s("c1df"),at=s.n(nt),it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"-40 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m271 512h-191c-44.113281 0-80-35.886719-80-80v-271c0-44.113281 35.886719-80 80-80h191c44.113281 0 80 35.886719 80 80v271c0 44.113281-35.886719 80-80 80zm-191-391c-22.054688 0-40 17.945312-40 40v271c0 22.054688 17.945312 40 40 40h191c22.054688 0 40-17.945312 40-40v-271c0-22.054688-17.945312-40-40-40zm351 261v-302c0-44.113281-35.886719-80-80-80h-222c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h222c22.054688 0 40 17.945312 40 40v302c0 11.046875 8.953125 20 20 20s20-8.953125 20-20zm0 0"}})])},rt=[],ot={},ct=Object(u["a"])(ot,it,rt,!1,null,null,null),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"0 0 511 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m255.496094 512c-.136719 0-.261719 0-.402344 0-11.042969-.015625-19.984375-8.984375-19.96875-20.03125.019531-11.035156 8.96875-19.96875 20-19.96875h.371094c118.015625 0 214.875-95.878906 215.992187-213.898438.476563-50.324218-16.710937-99.472656-48.40625-138.390624-13.695312-16.816407-12.496093-41.023438 2.789063-56.3125l23.433594-23.347657-75.039063-.050781c-.003906 0-.003906 0-.007813 0-3.515624 0-5.832031 1.789062-6.898437 2.859375-1.070313 1.066406-2.863281 3.386719-2.859375 6.90625l.042969 75.496094c7.683593-5.039063 18.101562-4.25 24.941406 2.441406 7.898437 7.722656 8.035156 20.386719.3125 28.28125l-7.84375 8.023437c-.054687.050782-.105469.101563-.15625.15625-9.609375 9.609376-23.941406 12.457032-36.507813 7.261719-12.582031-5.203125-20.722656-17.363281-20.738281-30.972656l-.050781-90.664063c-.007812-13.304687 5.167969-25.808593 14.574219-35.214843 9.398437-9.398438 21.894531-14.574219 35.183593-14.574219h.035157l90.652343.0625c13.617188.0117188 25.773438 8.152344 30.980469 20.734375 5.195313 12.566406 2.34375 26.898437-7.265625 36.507813l-34.53125 34.40625c-.699218.699218-.722656 1.890624-.027344 2.742187 37.570313 46.140625 57.953126 104.394531 57.386719 164.027344-1.328125 139.871093-116.132812 253.511719-255.992187 253.519531zm-82.574219-14.570312c9.410156-9.40625 14.585937-21.914063 14.578125-35.21875l-.050781-90.664063c-.015625-13.609375-8.15625-25.769531-20.738281-30.972656-12.566407-5.199219-26.894532-2.347657-36.507813 7.261719-.050781.050781-.105469.105468-.15625.15625l-7.84375 8.023437c-7.726563 7.894531-7.585937 20.558594.3125 28.28125 6.839844 6.691406 17.253906 7.480469 24.941406 2.4375l.042969 75.5c.003906 3.519531-1.789062 5.835937-2.859375 6.90625-1.066406 1.066406-3.382813 2.859375-6.898437 2.859375-.003907 0-.003907 0-.007813 0l-75.042969-.050781 23.4375-23.351563c15.285156-15.285156 16.480469-39.492187 2.785156-56.3125-31.691406-38.917968-48.882812-88.0625-48.40625-138.386718 1.121094-118.019532 97.976563-213.898438 215.996094-213.898438h.367188c11.03125 0 19.984375-8.933594 20-19.96875.019531-11.046875-8.921875-20.0117188-19.96875-20.03125-.136719 0-.261719 0-.398438 0-139.863281 0-254.664062 113.648438-255.992187 253.519531-.5664065 59.636719 19.8125 117.886719 57.386719 164.027344.695312.851563.671874 2.042969-.027344 2.742187l-34.535156 34.40625c-9.609376 9.609376-12.460938 23.941407-7.261719 36.507813 5.203125 12.582031 17.363281 20.722656 30.980469 20.734375l90.652343.0625h.035157c13.289062 0 25.78125-5.175781 35.179687-14.570312zm0 0"}})])},dt=[],mt={},ht=Object(u["a"])(mt,ut,dt,!1,null,null,null),pt=ht.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"-27 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m323 242c-74.4375 0-135 60.5625-135 135s60.5625 135 135 135 135-60.5625 135-135-60.5625-135-135-135zm0 230c-52.382812 0-95-42.617188-95-95s42.617188-95 95-95 95 42.617188 95 95-42.617188 95-95 95zm60-95c0 11.046875-8.953125 20-20 20h-20v20c0 11.046875-8.953125 20-20 20s-20-8.953125-20-20v-20h-20c-11.046875 0-20-8.953125-20-20s8.953125-20 20-20h20v-20c0-11.046875 8.953125-20 20-20s20 8.953125 20 20v20h20c11.046875 0 20 8.953125 20 20zm-203 115c0 11.046875-8.953125 20-20 20h-80c-44.113281 0-80-35.886719-80-80v-287.144531c0-20.765625 8.050781-40.320313 22.667969-55.066407l66.042969-66.632812c14.585937-14.714844 34.835937-23.15625 55.558593-23.15625h181.621094c44.109375 0 80 35.886719 80 80v106c0 11.046875-8.957031 20-20 20-11.046875 0-20-8.953125-20-20v-106c0-22.054688-17.945313-40-40-40h-181.621094c-10.125 0-20.023437 4.125-27.148437 11.316406l-66.042969 66.628906c-3.230469 3.257813-5.796875 7-7.644531 11.054688h55.566406c16.542969 0 30-13.460938 30-30 0-11.046875 8.953125-20 20-20s20 8.953125 20 20c0 38.597656-31.402344 70-70 70h-59v263c0 22.054688 17.945312 40 40 40h80c11.046875 0 20 8.953125 20 20zm0 0"}})])},vt=[],gt={},yt=Object(u["a"])(gt,ft,vt,!1,null,null,null),bt=yt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m512 256c0 50.53125-14.996094 99.675781-43.375 142.117188-6.136719 9.179687-18.558594 11.648437-27.742188 5.511718-9.183593-6.140625-11.648437-18.5625-5.511718-27.742187 23.964844-35.84375 36.628906-77.296875 36.628906-119.886719 0-119.101562-96.898438-216-216-216s-216 96.898438-216 216 96.898438 216 216 216c39.503906 0 78.144531-10.757812 111.738281-31.105469 9.449219-5.722656 21.746094-2.703125 27.46875 6.746094 5.722657 9.445313 2.703125 21.742187-6.742187 27.464844-39.847656 24.136719-85.652344 36.894531-132.464844 36.894531-68.378906 0-132.667969-26.628906-181.019531-74.980469-48.351563-48.351562-74.980469-112.640625-74.980469-181.019531s26.628906-132.667969 74.980469-181.019531c48.351562-48.351563 112.640625-74.980469 181.019531-74.980469s132.667969 26.628906 181.019531 74.980469c48.351563 48.351562 74.980469 112.640625 74.980469 181.019531zm-255-176c-11.046875 0-20 8.953125-20 20v121.363281c-11.953125 6.917969-20 19.832031-20 34.636719 0 22.089844 17.910156 40 40 40 3.582031 0 7.050781-.476562 10.355469-1.359375l53.003906 53c3.902344 3.90625 9.023437 5.859375 14.140625 5.859375s10.238281-1.953125 14.140625-5.859375c7.8125-7.808594 7.8125-20.472656 0-28.28125l-53-53.003906c.882813-3.304688 1.359375-6.773438 1.359375-10.355469 0-14.804688-8.046875-27.71875-20-34.636719v-121.363281c0-11.046875-8.953125-20-20-20zm0 0"}})])},Ct=[],_t={},jt=Object(u["a"])(_t,wt,Ct,!1,null,null,null),xt=jt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"-120 0 512 512.0002",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m154.433594 512c-2.15625 0-4.34375-.179688-6.554688-.542969-18.75-3.101562-31.84375-18.539062-31.84375-37.542969v-126.828124c0-5.511719-4.488281-9.996094-10-9.996094h-45.851562c-19.355469 0-37.636719-9.378906-48.898438-25.09375-11.390625-15.894532-14.324218-35.628906-8.042968-54.140625l78.691406-231.992188c6.105468-18.003906 23.472656-28.414062 42.230468-25.324219 18.761719 3.097657 31.863282 18.535157 31.863282 37.550782v127.550781c0 5.515625 4.484375 10 9.996094 10h45.804687c19.367187 0 37.652344 9.386719 48.910156 25.109375 11.394531 15.90625 14.316407 35.648438 8.019531 54.164062l-21.261718 62.527344c-3.558594 10.453125-14.917969 16.050782-25.371094 12.492188-10.453125-3.554688-16.046875-14.914063-12.492188-25.367188l21.261719-62.527344c2.09375-6.152343 1.121094-12.714843-2.667969-18.003906-3.824218-5.339844-9.800781-8.402344-16.398437-8.402344h-45.804687c-27.5625 0-49.988282-22.425781-49.988282-49.992187v-115.808594l-74.921875 220.871094c-2.089843 6.152344-1.109375 12.710937 2.679688 17.996094 3.824219 5.339843 9.796875 8.398437 16.390625 8.398437h45.851562c27.5625 0 49.988282 22.425782 49.988282 49.988282v115.101562l24.027343-70.640625c3.554688-10.457031 14.914063-16.054687 25.367188-12.492187 10.457031 3.554687 16.050781 14.914062 12.496093 25.367187l-27.800781 81.742187c-5.394531 15.871094-19.546875 25.835938-35.679687 25.835938zm0 0"}})])},$t=[],It={},Tt=Object(u["a"])(It,kt,$t,!1,null,null,null),zt=Tt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"-45 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M472.863,175.662L353.396,56.195c-6.666-6.664-17.472-6.662-24.136,0.004c-3.199,3.2-4.996,7.538-4.997,12.063v51.2\n\t\t\tH204.796c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067H341.33c9.426,0,17.067-7.641,17.067-17.067\n\t\t\tV109.46l78.268,78.268l-78.268,78.268v-27.068c0-9.426-7.641-17.067-17.067-17.067H153.596v-51.2\n\t\t\tc-0.002-9.426-7.645-17.065-17.07-17.063c-4.524,0.001-8.863,1.798-12.063,4.997L4.997,278.062\n\t\t\tc-6.663,6.665-6.663,17.468,0,24.132l119.467,119.467c3.2,3.201,7.54,5,12.066,5.001c2.243,0.007,4.466-0.434,6.536-1.297\n\t\t\tc6.376-2.644,10.532-8.867,10.53-15.77v-51.2h119.467c9.426,0,17.067-7.641,17.067-17.067s-7.641-17.067-17.067-17.067H136.53\n\t\t\tc-9.426,0-17.067,7.641-17.067,17.067v27.068l-78.268-78.268l78.268-78.268v27.068c0,9.426,7.641,17.067,17.067,17.067h187.733\n\t\t\tv51.2c0.002,9.426,7.645,17.065,17.07,17.063c4.524-0.001,8.863-1.798,12.063-4.997l119.467-119.467\n\t\t\tC479.525,193.129,479.525,182.326,472.863,175.662z"}})])},St=[],Ot={},Lt=Object(u["a"])(Ot,Et,St,!1,null,null,null),Ft=Lt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m255 401c-11.046875 0-20-8.953125-20-20s8.953125-20 20-20 20 8.953125 20 20-8.953125 20-20 20zm20-90v-26.855469c38.671875-9.355469 65.464844-44.441406 63.9375-84.117187-1.660156-43.203125-37.105469-78.332032-80.695312-79.964844-23.289063-.882812-45.28125 7.460938-61.90625 23.472656-16.339844 15.738282-25.335938 36.855469-25.335938 59.464844 0 11.046875 8.953125 20 20 20s20-8.953125 20-20c0-11.640625 4.644531-22.527344 13.082031-30.652344 8.726563-8.402344 20.316407-12.773437 32.660157-12.316406 22.816406.859375 41.363281 19.101562 42.226562 41.535156.800781 20.90625-13.628906 39.378906-34.320312 43.917969-17.457032 3.832031-29.648438 18.917969-29.648438 36.691406v28.824219c0 11.046875 8.953125 20 20 20s20-8.953125 20-20zm113.460938 164.105469c9.449218-5.722657 12.46875-18.019531 6.746093-27.464844-5.726562-9.449219-18.023437-12.46875-27.46875-6.746094-33.59375 20.347657-72.234375 31.105469-111.738281 31.105469-119.101562 0-216-96.898438-216-216s96.898438-216 216-216 216 96.898438 216 216c0 42.589844-12.664062 84.042969-36.625 119.886719-6.140625 9.179687-3.671875 21.601562 5.507812 27.742187 9.183594 6.140625 21.605469 3.671875 27.742188-5.511718 28.378906-42.441407 43.375-91.585938 43.375-142.117188 0-68.378906-26.628906-132.667969-74.980469-181.019531-48.351562-48.351563-112.640625-74.980469-181.019531-74.980469s-132.667969 26.628906-181.019531 74.980469c-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531s26.628906 132.667969 74.980469 181.019531c48.351562 48.351563 112.640625 74.980469 181.019531 74.980469 46.8125 0 92.617188-12.757812 132.460938-36.894531zm0 0"}})])},Bt=[],Dt={},Kt=Object(u["a"])(Dt,At,Bt,!1,null,null,null),Pt=Kt.exports,Ut={name:"TemplateEditor",components:{LoadingIndicator:O,Refresh:pt,Publish:bt,Info:Pt,Call:zt,Instances:tt,Time:xt,Copy:lt,Transfer:Ft},props:["functions","owner","timestamp","template","description","instance","published","loading","initState","callResult"],data:()=>({ownerDetails:{},args:[],result:null,activeFunction:0,serverUrl:"",clientSigning:!0,transferArgs:{assetId:"",nextOwner:!1,amount:1}}),computed:{activeFunctionDetails(){if(this.functions&&this.functions[this.activeFunction])return this.functions[this.activeFunction]},activeArguments(){return this.functions&&this.functions[this.activeFunction]&&this.functions[this.activeFunction].functionArgs&&this.functions[this.activeFunction].functionArgs.length>0},canEdit(){return this.instance?0===this.activeFunction:0!==this.activeFunction},isTransfer(){if(this.functions&&this.functions[this.activeFunction])return this.functions[this.activeFunction].name.startsWith("transfer")}},mounted(){this.getOwner()},methods:{handleError(t){t.response?t.msg=t.response.message||t.response.msg:null===t.response&&(t.msg=t.status+" "+t.statusText),"string"===typeof t&&(t.msg=t),this.$toast.open({message:t&&t.msg||"error",type:"error"})},copyTextToClipboard(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{var s=document.execCommand("copy"),n=s?"successful":"unsuccessful";console.log("Copying text command was "+n)}catch(a){console.log("Oops, unable to copy")}document.body.removeChild(e),this.$toast.open({message:"Copied to clipbloard",type:"success"})},async getOwner(){if(!this.owner||this.owner&&!this.owner[0])return;let t=await project.ajax.get(this.serverUrl+"/ng-rt-smartContracts/getUserInformationByPublicKey/"+this.owner[0]);this.ownerDetails={type:t.type,fullname:t.fullname}},formatDate(t){return at()(t).format("HH:mm DD.MM.YYYY")},trim(t){let e=t;return e.trim(),e},setActiveFunction:function(t){this.activeFunction=t,this.args=[],this.result=null,this.$emit("onFunctionSet",t)},goToInstance:function(t){this.$router.push("/instance/"+t)},publish:async function(t){try{if(this.$emit("onLoading",!0),this.args.length<1)return;let t,e=this.args.join("@");this.userKeys=this.$project.KeysService.getDefault(),t=this.userKeys.prvkey.length>32?this.$project.digitalAsset.driver.extractKeys(this.userKeys.prvkey):{publicKey:this.userKeys.pubkey,privateKey:this.userKeys.prvkey};const s={clientSigning:this.clientSigning,args:e,pubKey:t.publicKey};let n=await this.$project.ajax.post(this.serverUrl+"/ng-rt-smartContracts/contracts/"+this.$route.params.id,s);if(this.clientSigning){const e=this.$project.digitalAsset.driver.signTx(n,t.privateKey),s=this.$project.digitalAsset.driver.getSdkInfo();let a={assetType:"smartContract",tx:e,ownerPublicKey:t.publicKey,isSigned:!0,txMethod:"Commit",assetFormat:s,keySource:"externalPublicKey"},i=await this.$project.ajax.post(this.serverUrl+"/ng-rt-digitalAsset/assets/",a);i&&i.result&&i.result.hash&&this.$emit("onPublish",i.result.hash)}else n&&n.result&&n.result.hash&&this.$emit("onPublish",n.result.hash)}catch(e){this.handleError(e)}finally{this.$emit("onLoading",!1)}},callFunction:async function(t){try{let t;this.result=null,this.$emit("onLoading",!0),this.args.length<1?this.args="":this.args.join("@"),this.contractId=this.$route.params.id,this.functionName=this.functions[this.activeFunction].name;let e=this.$project.KeysService.getDefault();t=e.prvkey.length>32?this.$project.digitalAsset.driver.extractKeys(e.prvkey):{publicKey:e.pubkey,privateKey:e.prvkey};const s={clientSigning:this.clientSigning,args:JSON.stringify(this.args),pubKey:t.publicKey};let n=await this.$project.ajax.post(this.serverUrl+"/ng-rt-smartContracts/contracts/call/"+this.contractId+"/"+this.functionName,s);if(console.log("callFunction"),console.log("callFunction response",n),this.clientSigning&&""!==this.args&&n.hasOwnProperty("tx")){const e=n.result.memory,s=this.$project.digitalAsset.driver.signTx(n.tx,t.privateKey),a=this.$project.digitalAsset.driver.getSdkInfo();let i={assetType:"smartContract",tx:s,ownerPublicKey:t.publicKey,isSigned:!0,txMethod:"Commit",assetFormat:a,keySource:"externalPublicKey"},r=await this.$project.ajax.post(this.serverUrl+"/ng-rt-digitalAsset/assets/",i);r.tx?this.result={hash:r.tx.result.hash,memory:r.result.memory}:r.result?this.result={hash:r.result.hash,memory:e}:this.result=r,this.$emit("onCall",r)}else n.tx?this.result={hash:n.tx.result.hash,memory:n.result.memory}:(n.result,this.result=n),this.$emit("onCall",n)}catch(e){this.handleError(e)}finally{this.$emit("onLoading",!1)}},transferFunction:async function(t){try{let t;this.$emit("onLoading",!0),this.args.length<1?this.args="":this.args.join("@"),this.contractId=this.$route.params.id,this.functionName=this.functions[this.activeFunction].name;let e=this.$project.KeysService.getDefault();t=e.prvkey.length>32?this.$project.digitalAsset.driver.extractKeys(e.prvkey):{publicKey:e.pubkey,privateKey:e.prvkey};const s={args:JSON.stringify(this.args),assetId:this.transferArgs.assetId,pubKey:t.publicKey,clientSigning:this.clientSigning,nextOwner:this.transferArgs.nextOwner,amount:this.transferArgs.amount,latestTxId:this.transferArgs.latestTxId?this.transferArgs.latestTxId:this.transferArgs.assetId};let n=await this.$project.ajax.post(this.serverUrl+"/ng-rt-smartContracts/contracts/transferCall/"+this.contractId+"/"+this.functionName,s);if(console.log("TransferFunction response",n),this.clientSigning&&n.hasOwnProperty("transferTxId")){const e=n.result.memory,s=this.$project.digitalAsset.driver.signTx(n.transferTxId,t.privateKey),a=this.$project.digitalAsset.driver.getSdkInfo();let i={assetType:"smartContract",tx:s,ownerPublicKey:t.publicKey,isSigned:!0,txMethod:"Commit",assetFormat:a,keySource:"externalPublicKey"},r=await this.$project.ajax.post(this.serverUrl+"/ng-rt-digitalAsset/assets/",i);r.tx?this.result={hash:r.tx.result.hash,memory:r.result.memory}:r.result?this.result={hash:r.result.hash,memory:e}:this.result=r}else n.tx?this.result={hash:n.tx.result.hash,memory:n.result.memory}:(n.result,this.result=n)}catch(e){this.handleError(e)}finally{this.$emit("onLoading",!1)}}}},Nt=Ut,Ht=(s("c54c"),Object(u["a"])(Nt,et,st,!1,null,"dc3ba760",null)),Mt=Ht.exports,Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"-95 0 512 512.00002",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m253.550781 512c-.09375 0-.1875 0-.285156 0-16.136719-.074219-31.246094-6.457031-42.546875-17.972656l-193.515625-196.65625c-11.078125-11.285156-17.1835938-26.1875-17.203125-41.976563-.0195312-15.792969 6.042969-30.710937 17.074219-42.007812l192.421875-195.363281c11.292968-11.5625 26.492187-17.9882818 42.746094-18.023438 16.253906-.0117188 31.480468 6.320312 42.882812 17.898438l9.304688 9.445312c11.25 11.421875 17.378906 26.539062 17.257812 42.570312s-6.480469 31.054688-17.902344 42.304688l-146.152344 143.277344 42.105469 41.246094c7.894531 7.730468 8.023438 20.394531.292969 28.289062-7.730469 7.890625-20.398438 8.019531-28.289062.289062l-56.6875-55.527343c-3.839844-3.761719-6.003907-8.914063-6.007813-14.289063 0-5.375 2.164063-10.523437 6-14.289062l160.699219-157.535156c3.777344-3.714844 5.894531-8.722657 5.9375-14.066407.039062-5.347656-2.003906-10.386719-5.753906-14.191406l-9.304688-9.445313c-3.800781-3.859374-8.867188-5.984374-14.292969-5.964843-5.417969.011719-10.484375 2.152343-14.269531 6.027343l-192.421875 195.363282c-7.480469 7.664062-7.464844 20.21875.097656 27.925781l193.515625 196.65625c3.785156 3.855469 8.820313 5.984375 14.199219 6.007813 5.359375.03125 10.4375-2.054688 14.242187-5.859376l9.152344-9.152343c3.804688-3.804688 5.886719-8.867188 5.859375-14.25-.03125-5.386719-2.164062-10.425781-6.011719-14.191407l-35.941406-35.222656c-7.890625-7.730468-8.015625-20.398437-.28125-28.289062 7.730469-7.890625 20.398438-8.015625 28.289063-.285156l35.929687 35.214843c11.53125 11.289063 17.9375 26.40625 18.023438 42.558594.085937 16.148437-6.15625 31.332031-17.578125 42.753906l-9.148438 9.152344c-11.347656 11.339844-26.40625 17.578125-42.4375 17.578125zm0 0"}})])},qt=[],Vt={},Jt=Object(u["a"])(Vt,Yt,qt,!1,null,null,null),Rt=Jt.exports,Wt={name:"Template",components:{TemplateEditor:Mt,Instances:tt,Back:Rt,List:H},computed:{getInfo(){return this.$store.getters.getInfo}},data:()=>({isLoading:!1,instances:[],description:"",version:null,published:!1,result:{},functions:[],templateName:"",serverUrl:"",activeFunction:0,instanceClicked:!1}),mounted:function(){this.getData(),this.getInstances(),this.version=this.$route.params.version,this.templateName=this.$route.params.id},methods:{handleError(t){t.response?t.msg=t.response.message||t.response.msg:null===t.response&&(t.msg=t.status+" "+t.statusText),"string"===typeof t&&(t.msg=t),this.$toast.open({message:t&&t.msg||"error",type:"error"})},formatDate(t){return at()(t).format("HH:mm DD.MM.YYYY")},listItemClick(t){this.$router.push("/instance/"+t.contractId)},functionSet(t){this.activeFunction=t},onPublished(t){this.published=t},getData:async function(){try{this.isLoading=!0;let t=await project.ajax.get(this.serverUrl+"/ng-rt-smartContracts/contract-templates/"+this.$route.params.id+"?version="+this.$route.params.version);console.log("contractdetails ---\x3e",t),this.description=t.contractDescription,this.functions=t.mappedFunctionsAndArguments}catch(t){this.handleError(t)}finally{this.isLoading=!1}},goBack:function(t){this.$router.push("/")},goInstances:function(t){this.instanceClicked=!0},getInstances:async function(){try{this.isLoading=!0;let t=await project.ajax.get(this.serverUrl+`/ng-rt-smartContracts/contracts/${this.$route.params.id}/instances?version=${this.$route.params.version}`);console.log("state ---\x3e",t),this.instances=t}catch(t){this.handleError(t)}finally{this.isLoading=!1}},publish:function(){this.$refs.templateEditor.publish()}}},Gt=Wt,Qt=(s("4911"),Object(u["a"])(Gt,R,W,!1,null,"13c6c715",null)),Xt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"top"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"mainBar"},[this.$route.query.version?s("arrow-left",{staticClass:"iconButton",on:{click:function(e){return t.goBack()}}}):t._e(),s("div",{staticClass:"headText"},[s("h1",[t._v("Contract Instances")]),this.$route.query.version?s("div",{staticClass:"subHeadText"},[s("h2",[t._v(t._s(this.$route.params.id))]),s("h2",[t._v(t._s(this.$route.query.version))])]):t._e()]),t.templateInstances||t.filtering?t._e():s("button",{on:{click:function(e){return t.setFilter()}}},[s("Filter"),t._v("Filter ")]),t.filtering?s("button",{on:{click:function(e){return t.setFilter()}}},[t._v(" Close filter ")]):t._e()],1),t.filtering?s("div",{staticClass:"searchInstance"},[s("div",{staticClass:"inputs"},[s("fieldset",[s("legend",[t._v("Contract Id")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contractId,expression:"contractId"}],domProps:{value:t.contractId},on:{input:function(e){e.target.composing||(t.contractId=e.target.value)}}})]),s("fieldset",[s("legend",[t._v("Owner")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.owner,expression:"owner"}],domProps:{value:t.owner},on:{input:function(e){e.target.composing||(t.owner=e.target.value)}}})]),s("fieldset",[s("legend",[t._v("Sort by date")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],on:{"!change":function(e){return t.selectChange(e,t.i)},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?s:s[0]}}},t._l(t.sorting,(function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.title))])})),0)]),s("button",{staticStyle:{margin:"20px 0 0 0"},on:{click:t.getFilter}},[s("Filter"),t._v("Filter ")])])]):t._e()])])]),s("div",{staticClass:"container"},[s("List",{attrs:{data:t.list,columns:[{key:"contractId",label:"Contract Id"},{key:"contractOwner",label:"Owner",read:function(t){return t[0]}},{key:"createdOn",label:"Date",read:function(e){return t.formatDate(e)}}],loading:t.isLoading},on:{onClick:t.listItemClick}})],1)])},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"list"},[t._m(0),t.loading?s("LoadingIndicator",{staticClass:"center"}):t._e(),t._l(t.data,(function(e){return s("div",{key:e.contractId,staticClass:"listItem",on:{click:function(s){return t.goTo(e.contractId)}}},[s("span",{staticClass:"idColumn",attrs:{title:e.contractId}},[t._v(t._s(e.contractId)+" "),s("div",{staticClass:"copytip",on:{click:function(s){return s.stopPropagation(),t.copyTextToClipboard(e.contractId)}}},[s("Copy")],1)]),s("span",{staticClass:"ownerColumn",attrs:{title:e.contractOwner[0]}},[t._v(t._s(e.contractOwner[0])+" "),s("div",{staticClass:"copytip",on:{click:function(s){return s.stopPropagation(),t.copyTextToClipboard(e.contractOwner[0])}}},[s("Copy")],1)]),s("span",{staticClass:"timestampColumn",attrs:{title:t.formatDate(e.createdOn)}},[t._v(t._s(t.formatDate(e.createdOn)))])])}))],2)])},se=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"listHeader"},[s("span",{staticClass:"idColumn"},[t._v("id")]),s("span",{staticClass:"ownerColumn"},[t._v("Owner")]),s("span",{staticClass:"timestampColumn"},[t._v("Date")])])}],ne={name:"InstanceList",props:["data","loading"],components:{LoadingIndicator:O,Copy:lt},data:function(){return{filtering:!1}},methods:{copyTextToClipboard(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{var s=document.execCommand("copy"),n=s?"successful":"unsuccessful";console.log("Copying text command was "+n)}catch(a){console.log("Oops, unable to copy")}document.body.removeChild(e),this.$toast.open({message:"Copied to clipbloard",type:"success"})},formatDate(t){return at()(t).format("HH:mm DD.MM.YYYY")},goTo:function(t){this.$router.push("/instance/"+t)}}},ae=ne,ie=(s("c033"),Object(u["a"])(ae,ee,se,!1,null,"107de6dc",null)),re=ie.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:"512pt",viewBox:"0 0 512 512.001",width:"512pt",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m492 0h-472c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h20v59.710938c0 19.164062 6.890625 37.710937 19.402344 52.230468l126.894531 147.234375c6.257813 7.257813 9.703125 16.53125 9.703125 26.113281v111.328126c0 6.5625 3.21875 12.707031 8.617188 16.441406l80 55.386718c3.40625 2.359376 7.386718 3.554688 11.382812 3.554688 3.175781 0 6.363281-.753906 9.28125-2.285156 6.589844-3.453125 10.71875-10.277344 10.71875-17.714844v-166.710938c0-9.582031 3.445312-18.855468 9.699219-26.113281l27.683593-32.117187c7.210938-8.367188 6.273438-20.996094-2.09375-28.207032-8.363281-7.210937-20.992187-6.273437-28.207031 2.089844l-27.679687 32.121094c-12.511719 14.515625-19.402344 33.0625-19.402344 52.226562v128.539063l-40-27.691406v-100.847657c0-19.164062-6.890625-37.710937-19.402344-52.230468l-113.816406-132.058594h306.441406l-24.945312 28.941406c-7.210938 8.367188-6.273438 20.996094 2.09375 28.207032 3.777344 3.257812 8.421875 4.851562 13.046875 4.851562 5.617187 0 11.203125-2.351562 15.15625-6.941406l38.023437-44.117188c12.511719-14.519531 19.402344-33.066406 19.402344-52.230468v-59.710938h20c11.046875 0 20-8.953125 20-20s-8.953125-20-20-20zm-60 99.710938c0 .429687-.015625.859374-.027344 1.289062h-351.941406c-.015625-.429688-.03125-.859375-.03125-1.289062v-59.710938h352zm0 0"}})])},ce=[],le={},ue=Object(u["a"])(le,oe,ce,!1,null,null,null),de=ue.exports,me={name:"Contract Instances",components:{InstanceList:re,List:H,Filter:de},data:function(){return{owner:"",sorting:[{title:"Ascending",value:"ASC"},{title:"Descending",value:"DESC"}],sortBy:"DESC",contractId:"",isLoading:!1,list:[],filtering:!1,serverUrl:"",limit:20,offset:0}},computed:{templateInstances(){return"TemplateInstances"===this.$route.name}},mounted:async function(){console.log("this.$route.query.version",this.$route.query.version),this.list=await this.getList(this.offset)},created(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleError(t){t.response?t.msg=t.response.message||t.response.msg:null===t.response&&(t.msg=t.status+" "+t.statusText),this.$toast.open({message:t&&(t.msg||t.message)||"error",type:"error"})},getFilter:async function(){this.list=[],this.offset=0,this.list=await this.getList(this.offset,this.limit)},handleScroll:async function(){try{let t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;if(t&&!1===this.isLoading){this.offset=this.limit+this.offset;let t=await this.getList(this.offset);if(!(t.length>0))throw window.removeEventListener("scroll",this.handleScroll),new Error("No more instances found");this.list=this.list.concat(t)}}catch(t){this.handleError(t)}finally{this.isLoading=!1}},listItemClick(t){console.log("click"),console.log(t),this.$router.push("/instance/"+t.contractId)},formatDate(t){return at()(t).format("HH:mm DD.MM.YYYY")},goBack(){this.$router.go(-1)},selectChange(t,e){this.sortBy=t.target.value},setFilter:function(){this.filtering=!this.filtering},getList:async function(t,e){try{this.isLoading=!0;let s=new URLSearchParams({owner:this.owner,sortBy:this.sortBy,contractId:this.contractId,offset:t||this.offset,limit:e||this.limit});s.forEach((t,e)=>{t||s.delete(e)}),s=s.toString(),console.log("params",s);let n="TemplateInstances"===this.$route.name?this.serverUrl+`/ng-rt-smartContracts/contracts/${this.$route.params.id}/instances?version=${this.$route.query.version}`:this.serverUrl+"/ng-rt-smartContracts/contracts?"+s,a=await project.ajax.get(n);return console.log("state ---\x3e",a),a}catch(s){this.handleError(s)}finally{this.isLoading=!1}}}},he=me,pe=(s("4886"),Object(u["a"])(he,Zt,te,!1,null,"98a8b4ec",null)),fe=pe.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"top"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"mainBar"},[s("arrow-left",{staticClass:"iconButton",on:{click:function(e){return t.goBack()}}}),s("div",{staticClass:"headText"},[s("h1",[t._v("Contract Instance")]),s("div",{staticClass:"subHeadText"},[s("h2",{attrs:{title:this.$route.params.id}},[s("div",{staticClass:"copytip",on:{click:function(e){return e.stopPropagation(),t.copyTextToClipboard()}}},[s("Copy")],1),t._v(" "+t._s(this.$route.params.id)+" ")]),t.version?s("h3",[t._v("V "+t._s(t.version))]):t._e()])]),s("button",{staticStyle:{margin:"0 0 0 15px"},on:{click:t.getState}},[s("Refresh"),t._v("GET STATE ")],1)],1)])])]),s("div",{staticClass:"container"},[t.owner?s("TemplateEditor",{ref:"templateEditor",attrs:{owner:t.owner,template:t.template,timestamp:t.timestamp,description:t.description,functions:t.functions,instance:!0,loading:t.isLoading,initState:t.initState},on:{onCall:t.onCalled,onLoading:t.setLoading,onFunctionSet:t.functionSet}}):t._e()],1)])},ge=[],ye={name:"Instance",components:{TemplateEditor:Mt,Copy:lt,Refresh:pt},data:()=>({isLoading:!1,owner:"",timestamp:"",version:"",description:"",functions:[],activeFunction:0,template:"",initState:"",serverUrl:"",callUrl:"/ng-rt-smartContracts/contracts/app/call"}),mounted:function(){this.getData()},methods:{handleError(t){t.response?t.msg=t.response.message||t.response.msg:null===t.response&&(t.msg=t.status+" "+t.statusText),"string"===typeof t&&(t.msg=t),this.$toast.open({message:t&&t.msg||"error",type:"error"})},copyTextToClipboard(){let t=this.$route.params.id;var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{var s=document.execCommand("copy"),n=s?"successful":"unsuccessful";console.log("Copying text command was "+n)}catch(a){console.log("Oops, unable to copy")}document.body.removeChild(e),this.$toast.open({message:"Copied to clipbloard",type:"success"})},onCalled(){},functionSet(t){this.activeFunction=t},setLoading:function(t){this.isLoading=t},callFunction:function(){this.$refs.templateEditor.callFunction()},goBack:function(t){this.$router.push("/instances")},getData:async function(){try{this.isLoading=!0;let t=await project.ajax.get(this.serverUrl+"/ng-rt-smartContracts/contracts/"+this.$route.params.id);console.log("instance ---\x3e",t),console.log("functions",t.mappedFunctionsAndArguments),this.owner=t.contractOwner,this.description=t.contractDescription,this.functions=t.mappedFunctionsAndArguments,this.timestamp=t.publishedOn}catch(t){this.handleError(t)}finally{this.isLoading=!1}},getState:async function(){try{this.isLoading=!0;let t=await project.ajax.get(this.serverUrl+"/ng-rt-smartContracts/contracts/"+this.$route.params.id+"/state");console.log("state ---\x3e",t),this.initState=t}catch(t){this.handleError(t)}finally{this.isLoading=!1}}}},be=ye,we=(s("89ca"),Object(u["a"])(be,ve,ge,!1,null,"168bdb00",null)),Ce=we.exports;n["default"].use(_["a"]);const _e=[{path:"/",name:"TemplateExplorer",component:J},{path:"/template/:id",name:"TemplateEditor",component:Xt,props:!0},{path:"/template/:id/instances",name:"TemplateInstances",component:fe},{path:"/instances/",name:"InstanceExplorer",component:fe},{path:"/instance/:id",name:"Instance",component:Ce},{path:"/about",name:"About",component:()=>s.e("about").then(s.bind(null,"f820"))}],je=new _["a"]({routes:_e});var xe=je;n["default"].use(M["a"]);var ke=new M["a"].Store({state:{toasts:[]},mutations:{addToast(t,e){t.toasts.push(e)},setInfo(t,e){t.info=e}},actions:{},modules:{},getters:{getInfo(t){return t.info}}}),$e=(s("d48d"),s("b079")),Ie=s.n($e),Te=(s("ce8c"),s("8aa8")),ze=s("57e5"),Ee=s("7bc6"),Se=s("7eb5"),Oe=s("3dc2"),Le=s("c600"),Fe=s("815c"),Ae=s("fe6c"),Be=s("a54d");n["default"].config.productionTip=!1,n["default"].component("menu-icon",Te["a"]),n["default"].component("arrow-left",ze["a"]),n["default"].component("arrow-right",Ee["a"]),n["default"].component("close",Se["a"]),n["default"].component("search",Le["a"]),n["default"].component("tune",Oe["a"]),n["default"].component("function",Fe["a"]),n["default"].component("chevron-right",Ae["a"]),n["default"].component("information-outline",Be["a"]),n["default"].prototype.$project=project,n["default"].use(Ie.a,{position:"bottom"}),new n["default"]({router:xe,store:ke,render:t=>t(C)}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var n=s("0fc8"),a=s.n(n);a.a},6372:function(t,e,s){"use strict";var n=s("66f3"),a=s.n(n);a.a},"66f3":function(t,e,s){},"6c24":function(t,e,s){"use strict";var n=s("08f9"),a=s.n(n);a.a},"89ca":function(t,e,s){"use strict";var n=s("f06e"),a=s.n(n);a.a},"928b":function(t,e,s){},9819:function(t,e,s){},c033:function(t,e,s){"use strict";var n=s("113d"),a=s.n(n);a.a},c54c:function(t,e,s){"use strict";var n=s("928b"),a=s.n(n);a.a},c93b:function(t,e,s){"use strict";var n=s("512b"),a=s.n(n);a.a},cf70:function(t,e,s){"use strict";var n=s("1ba7"),a=s.n(n);a.a},f06e:function(t,e,s){}});
//# sourceMappingURL=app.0e6fa82e.js.map